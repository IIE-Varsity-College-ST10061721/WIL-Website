@model FeedTheFurballsMVC.Models.DonationViewModel
@{
    ViewData["Title"] = "Donation Goal";
}
<div class="container">
    <h1>Donation Goal</h1>

    <!-- Dropdown for selecting month and year -->
    <form method="get" action="/Donation/Index">
        <label for="month">Select Month:</label>
        <select name="month" id="month">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
        </select>

        <label for="year">Select Year:</label>
        <select name="year" id="year">
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025">2025</option>
        </select>

        <button type="submit">View</button>
    </form>

    <canvas id="donationChart" width="400" height="400"></canvas>
    
    <p>Monthly Goal: @Model.Goal.ToString("C")</p>
    <p>Total Monthly Donations: @Model.TotalDonations.ToString("C")</p>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    var ctx = document.getElementById('donationChart').getContext('2d');
    var donationChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Donations', 'Remaining'],
            datasets: [{
                data: [@Model.TotalDonations, @Model.Remaining],
                backgroundColor: ['#642365', '#d2b6dc'],
                hoverOffset: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false, // Ensure it's false
            plugins: {
                legend: {
                    position: 'bottom',
                }
            }
        }
    });

</script>

<style>
    h1 {
        color: #642365;
        text-align: center;
    }

    canvas {
        max-width: 300px;
        max-height: 300px;
        margin: 0 auto;
    }

</style>

